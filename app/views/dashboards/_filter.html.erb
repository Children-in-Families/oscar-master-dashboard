<%= simple_form_for :dashboard, url: url_for, method: :get do |f| %>
  <%= f.label :created_at, label: "Case Created Date" %>
  <div class="row">
    <div class="col-6">
      <%= f.input :created_at_gteq, label: false, input_html: { class: "form-control flatpickr", autocomplete: "off", value: params.dig(:dashboard, :created_at_gteq) }, placeholder: "From" %>
    </div>
  
    <div class="col-6">
      <%= f.input :created_at_lteq, label: false, input_html: { class: "form-control flatpickr", autocomplete: "off", value: params.dig(:q, :created_at_lteq) }, placeholder: "To" %>
    </div>
  </div>


  <%= f.label :initial_referral_date, label: "Initial Referral Date" %>
  <div class="row">
    <div class="col-6">
      <%= f.input :initial_referral_date_gteq, label: false, input_html: { class: "form-control flatpickr", autocomplete: "off", value: params.dig(:q, :initial_referral_date_gteq) }, placeholder: "From" %>
    </div>
  
    <div class="col-6">
      <%= f.input :initial_referral_date_lteq, label: false, input_html: { class: "form-control flatpickr", autocomplete: "off", value: params.dig(:q, :initial_referral_date_lteq) }, placeholder: "To" %>
    </div>
  </div>

  <%= f.input :province_id, label: 'Current Province' %>
  <%= f.input :status, label: 'Case Status' %>
  <%= f.input :has_disability, label: 'Disability?', collection: [['Yes', true], ['No', false]], selected: params.dig(:dashboard, :has_disability) %>

  <%= f.input :organization_ids, label: 'NGO', collection: Organization.active.pluck(:full_name, :id), input_html: { multiple: true }, selected: params.dig(:dashboard, :organization_ids)&.map(&:to_i) %>
  <%= f.input :country, collection: [Organization::SUPPORTED_COUNTRY.map(&:titleize), Organization::SUPPORTED_COUNTRY].transpose, input_html: { multiple: true }, label: "Country", selected: params.dig(:dashboard, :country) %>
  <%= f.input :organization_integrated, collection: [['Yes', true], ['No', false]], label: 'Interoperability?', selected: params.dig(:dashboard, :organization_integrated) %>

  <%= f.label :onboarding_date, label: "Onboarding date" %>
  <div class="row">
    <div class="col-6">
      <%= f.input :organization_created_date_gteq, label: false, input_html: { class: "form-control flatpickr", autocomplete: "off", value: params.dig(:q, :organization_created_date_gteq) }, placeholder: "From" %>
    </div>
  
    <div class="col-6">
      <%= f.input :organization_created_date_lteq, label: false, input_html: { class: "form-control flatpickr", autocomplete: "off", value: params.dig(:q, :organization_created_date_lteq) }, placeholder: "To" %>
    </div>
  </div>

  <%= f.submit 'Submit', class: "btn btn-primary" %>
  <%= link_to "Clear Search", url_for({}) %>
<% end %>
